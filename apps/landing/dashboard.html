<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TON Agent Platform ‚Äî Control Center</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="dashboard.css">
  <!-- TON Connect UI SDK -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
  <!-- Telegram widget loaded in body where button should appear -->
</head>
<body>
  <!-- Auth Screen -->
  <div id="auth-screen" class="auth-screen">
    <div class="auth-container">
      <div class="auth-logo">
        <div class="logo-icon pulse">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
          </svg>
        </div>
        <h1 data-en="TON Agent Platform" data-ru="TON Agent Platform">TON Agent Platform</h1>
        <p data-en="Control Center" data-ru="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">Control Center</p>
      </div>
      <div class="auth-box">
        <h2 data-en="Welcome Back" data-ru="–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º">Welcome Back</h2>
        <p class="auth-desc" data-en="Sign in with Telegram to access your agents" data-ru="–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Telegram –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–≥–µ–Ω—Ç–∞–º">Sign in with Telegram to access your agents</p>
        <div class="telegram-login-container" id="tg-widget-container">
          <!-- Telegram Login Widget injected here dynamically by dashboard.js after fetching /api/config -->
          <div id="tg-widget-placeholder" style="min-height:48px;display:flex;align-items:center;justify-content:center;color:rgba(255,255,255,0.4);font-size:.875rem;">
            ‚è≥ Loading...
          </div>
        </div>
        <p class="auth-note" data-en="Secure auth via Telegram Login Widget" data-ru="–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram Login Widget">Secure auth via Telegram Login Widget</p>
        <p id="auth-session-expired" style="color:#f59e0b;font-size:0.8rem;font-weight:500;display:none;margin-top:8px;">
          üîÑ –°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞
        </p>
        <p class="auth-note" id="auth-domain-note" style="color:#f59e0b;font-size:0.75rem;display:none">
          ‚ö†Ô∏è Widget requires HTTPS domain
        </p>
      </div>
    </div>
    <div class="auth-bg"></div>
  </div>

  <!-- Main App -->
  <div id="app" class="app hidden">
    <!-- Animated Background -->
    <div class="bg-mesh">
      <div class="bg-orb orb-1"></div>
      <div class="bg-orb orb-2"></div>
      <div class="bg-orb orb-3"></div>
    </div>
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="logo">
          <div class="logo-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
            </svg>
          </div>
          <div class="logo-text">
            <span class="logo-title">TON Agent</span>
            <span class="logo-subtitle" data-en="Control Center" data-ru="–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è">Control Center</span>
          </div>
        </a>
      </div>
      
      <nav class="sidebar-nav">
        <div class="nav-section">
          <span class="nav-label" data-en="Overview" data-ru="–û–±–∑–æ—Ä">Overview</span>
          <a href="#" class="nav-item active" data-page="overview">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7" rx="2"/><rect x="14" y="3" width="7" height="7" rx="2"/>
              <rect x="14" y="14" width="7" height="7" rx="2"/><rect x="3" y="14" width="7" height="7" rx="2"/>
            </svg>
            <span data-en="Overview" data-ru="–û–±–∑–æ—Ä">Overview</span>
          </a>
          <a href="#" class="nav-item" data-page="analytics">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            <span data-en="Analytics" data-ru="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞">Analytics</span>
          </a>
        </div>
        
        <div class="nav-section">
          <span class="nav-label" data-en="Agent Core" data-ru="–Ø–¥—Ä–æ –∞–≥–µ–Ω—Ç–∞">Agent Core</span>
          <a href="#" class="nav-item" data-page="capabilities">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
            </svg>
            <span data-en="Capabilities" data-ru="–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">Capabilities</span>
            <span class="nav-badge">127</span>
          </a>
          <a href="#" class="nav-item" data-page="extensions">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l9 4.9V17L12 22l-9-4.9V7z"/>
            </svg>
            <span data-en="Extensions" data-ru="–†–∞—Å—à–∏—Ä–µ–Ω–∏—è">Extensions</span>
          </a>
          <a href="#" class="nav-item" data-page="persona">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
            </svg>
            <span data-en="Persona" data-ru="–ü–µ—Ä—Å–æ–Ω–∞">Persona</span>
          </a>
          <a href="#" class="nav-item" data-page="knowledge">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
            </svg>
            <span data-en="Knowledge Base" data-ru="–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π">Knowledge Base</span>
          </a>
        </div>
        
        <div class="nav-section">
          <span class="nav-label" data-en="Operations" data-ru="–û–ø–µ—Ä–∞—Ü–∏–∏">Operations</span>
          <a href="#" class="nav-item" data-page="activity">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
              <polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/>
            </svg>
            <span data-en="Activity Stream" data-ru="–ü–æ—Ç–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏">Activity Stream</span>
            <span class="status-pulse"></span>
          </a>
          <a href="#" class="nav-item" data-page="operations">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
            </svg>
            <span data-en="Operations" data-ru="–û–ø–µ—Ä–∞—Ü–∏–∏">Operations</span>
            <span class="nav-badge alert">3</span>
          </a>
          <a href="#" class="nav-item" data-page="connectors">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>
            </svg>
            <span data-en="Connectors" data-ru="–ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã">Connectors</span>
          </a>
        </div>
        
        <div class="nav-section">
          <span class="nav-label" data-en="Finance" data-ru="–§–∏–Ω–∞–Ω—Å—ã">Finance</span>
          <a href="#" class="nav-item" data-page="balance">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            <span data-en="Balance" data-ru="–ë–∞–ª–∞–Ω—Å">Balance</span>
            <span class="balance-nav-badge" id="balance-nav-amount">‚Äî</span>
          </a>
        </div>

        <div class="nav-section">
          <span class="nav-label" data-en="System" data-ru="–°–∏—Å—Ç–µ–º–∞">System</span>
          <a href="#" class="nav-item" data-page="settings">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3"/>
              <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
            </svg>
            <span data-en="Settings" data-ru="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">Settings</span>
          </a>
        </div>
      </nav>
      
      <div class="sidebar-footer">
        <!-- Balance Widget in Sidebar -->
        <div class="sidebar-balance-widget" id="sidebar-balance-widget" onclick="navigateTo('balance')" title="Balance ‚Äî click to deposit">
          <div class="sidebar-balance-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 8v4l3 3"/>
            </svg>
          </div>
          <div class="sidebar-balance-info">
            <span class="sidebar-balance-label" data-en="Balance" data-ru="–ë–∞–ª–∞–Ω—Å">Balance</span>
            <span class="sidebar-balance-value" id="sidebar-balance-value">‚Äî TON</span>
          </div>
          <div class="sidebar-balance-action">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
          </div>
        </div>

        <div class="user-card" style="cursor:pointer" title="Profile" onclick="navigateTo('profile')">
          <img id="user-avatar" src="" alt="" class="user-avatar-img hidden">
          <div class="user-avatar-fallback hidden" id="user-avatar-fallback">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
            </svg>
          </div>
          <div class="user-details">
            <span class="user-name" id="user-name">User</span>
            <span class="user-tier" data-en="Pro Tier" data-ru="Pro —Ç–∞—Ä–∏—Ñ">Pro Tier</span>
          </div>
        </div>
        <div class="lang-switcher-sidebar">
          <button class="lang-btn active" data-lang="en" onclick="switchLang('en')">EN</button>
          <button class="lang-btn" data-lang="ru" onclick="switchLang('ru')">RU</button>
        </div>
        <button class="logout-btn" onclick="logout()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/>
            <line x1="21" y1="12" x2="9" y2="12"/>
          </svg>
          <span data-en="Sign Out" data-ru="–í—ã–π—Ç–∏">Sign Out</span>
        </button>
      </div>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      <!-- Overview Page -->
      <div id="overview-page" class="page active">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Overview" data-ru="–û–±–∑–æ—Ä">Overview</h1>
            <p class="page-subtitle" data-en="Real-time system status and performance metrics" data-ru="–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏">Real-time system status and performance metrics</p>
          </div>
          <div class="header-actions">
            <button class="btn btn-ghost" id="refresh-btn" onclick="refreshData()">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="refresh-icon">
                <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
              </svg>
              <span data-en="Refresh" data-ru="–û–±–Ω–æ–≤–∏—Ç—å">Refresh</span>
            </button>
            <button class="btn btn-primary">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
              </svg>
              <span data-en="Deploy Agent" data-ru="–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≥–µ–Ω—Ç–∞">Deploy Agent</span>
            </button>
          </div>
        </div>
        
        <div class="page-content">
          <!-- Metrics Grid -->
          <div class="metrics-grid">
            <div class="metric-card primary" data-metric="uptime">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="System Uptime" data-ru="–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã">System Uptime</span>
                <span class="metric-value" id="uptime-value">14h 32m</span>
                <span class="metric-change positive">
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                  </svg>
                  99.9%
                </span>
              </div>
            </div>
            
            <div class="metric-card secondary" data-metric="model">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="AI Model" data-ru="AI –ú–æ–¥–µ–ª—å">AI Model</span>
                <span class="metric-value model-name">Claude 3.5 Sonnet</span>
                <span class="metric-change neutral">v2024-06</span>
              </div>
            </div>
            
            <div class="metric-card accent" data-metric="sessions">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="Active Sessions" data-ru="–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏">Active Sessions</span>
                <span class="metric-value" id="sessions-value">3</span>
                <span class="metric-change positive">+1 today</span>
              </div>
            </div>
            
            <div class="metric-card success" data-metric="tools">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="Capabilities" data-ru="–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">Capabilities</span>
                <span class="metric-value" id="tools-value">127</span>
                <span class="metric-change positive">+5 new</span>
              </div>
            </div>

            <div class="metric-card primary" data-metric="runs">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="Total Runs" data-ru="–í—Å–µ–≥–æ –∑–∞–ø—É—Å–∫–æ–≤">Total Runs</span>
                <span class="metric-value" id="runs-value">‚Äî</span>
                <span class="metric-change neutral" data-en="all time" data-ru="–∑–∞ –≤—Å—ë –≤—Ä–µ–º—è">all time</span>
              </div>
            </div>

            <div class="metric-card accent" data-metric="success">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                  <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="Success Rate" data-ru="–£—Å–ø–µ—à–Ω–æ—Å—Ç—å">Success Rate</span>
                <span class="metric-value" id="success-rate-value">‚Äî</span>
                <span class="metric-change positive">%</span>
              </div>
            </div>

            <div class="metric-card secondary" data-metric="last24h">
              <div class="metric-glow"></div>
              <div class="metric-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                  <line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/>
                  <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
              </div>
              <div class="metric-content">
                <span class="metric-label" data-en="Last 24h Runs" data-ru="–ó–∞–ø—É—Å–∫–æ–≤ –∑–∞ 24—á">Last 24h Runs</span>
                <span class="metric-value" id="last24h-value">‚Äî</span>
                <span class="metric-change neutral" data-en="today" data-ru="—Å–µ–≥–æ–¥–Ω—è">today</span>
              </div>
            </div>
          </div>
          
          <!-- My Agents (real data from API) -->
          <div class="panel" id="agents-panel">
            <div class="panel-header">
              <h3 class="panel-title" data-en="My Agents" data-ru="–ú–æ–∏ –∞–≥–µ–Ω—Ç—ã">My Agents</h3>
              <a href="https://t.me/TonAgentPlatformBot" target="_blank" class="btn btn-primary btn-sm">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                <span data-en="Create in Bot" data-ru="–°–æ–∑–¥–∞—Ç—å –≤ –±–æ—Ç–µ">Create in Bot</span>
              </a>
            </div>
            <div id="agents-list" class="agents-list">
              <div class="loading-placeholder" data-en="Loading agents..." data-ru="–ó–∞–≥—Ä—É–∑–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤...">Loading agents...</div>
            </div>
          </div>

          <!-- Dashboard Grid -->
          <div class="dashboard-grid">
            <!-- Memory Status -->
            <div class="panel memory-panel">
              <div class="panel-header">
                <h3 class="panel-title" data-en="Memory Status" data-ru="–°—Ç–∞—Ç—É—Å –ø–∞–º—è—Ç–∏">Memory Status</h3>
                <span class="panel-status active" data-en="Active" data-ru="–ê–∫—Ç–∏–≤–Ω–æ">Active</span>
              </div>
              <div class="memory-items">
                <div class="memory-item">
                  <div class="memory-icon blue">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                    </svg>
                  </div>
                  <div class="memory-info">
                    <span class="memory-label" data-en="Knowledge Documents" data-ru="–î–æ–∫—É–º–µ–Ω—Ç—ã –∑–Ω–∞–Ω–∏–π">Knowledge Documents</span>
                    <span class="memory-value">4</span>
                  </div>
                  <div class="memory-bar">
                    <div class="memory-progress" style="width: 40%"></div>
                  </div>
                </div>
                <div class="memory-item">
                  <div class="memory-icon cyan">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                    </svg>
                  </div>
                  <div class="memory-info">
                    <span class="memory-label" data-en="Message History" data-ru="–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π">Message History</span>
                    <span class="memory-value">156</span>
                  </div>
                  <div class="memory-bar">
                    <div class="memory-progress" style="width: 78%"></div>
                  </div>
                </div>
                <div class="memory-item">
                  <div class="memory-icon purple">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/>
                    </svg>
                  </div>
                  <div class="memory-info">
                    <span class="memory-label" data-en="Active Chats" data-ru="–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã">Active Chats</span>
                    <span class="memory-value">7</span>
                  </div>
                  <div class="memory-bar">
                    <div class="memory-progress" style="width: 35%"></div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Agent Configuration -->
            <div class="panel config-panel">
              <div class="panel-header">
                <h3 class="panel-title" data-en="Agent Configuration" data-ru="–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞">Agent Configuration</h3>
                <button class="btn btn-ghost btn-sm" onclick="saveAgentConfig()" title="Save configuration">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                    <polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
                  </svg>
                </button>
              </div>
              <div class="config-form">
                <div class="form-row">
                  <div class="form-group">
                    <label data-en="AI Provider" data-ru="AI –ü—Ä–æ–≤–∞–π–¥–µ—Ä">AI Provider</label>
                    <select class="form-select">
                      <option>Anthropic (Claude)</option>
                      <option>OpenAI (GPT)</option>
                      <option>Google (Gemini)</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label data-en="Model Version" data-ru="–í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏">Model Version</label>
                    <select class="form-select">
                      <option>Claude 3.5 Sonnet</option>
                      <option>Claude 3 Opus</option>
                      <option>Claude 3 Haiku</option>
                    </select>
                  </div>
                </div>
                <div class="form-row three">
                  <div class="form-group">
                    <label data-en="Creativity" data-ru="–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å">Creativity</label>
                    <div class="slider-group">
                      <input type="range" class="form-slider" id="slider-creativity" min="0" max="2" step="0.1" value="0.7" oninput="updateSliderDisplay(this)">
                      <span class="slider-value">0.7</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label data-en="Max Tokens" data-ru="–ú–∞–∫—Å. —Ç–æ–∫–µ–Ω–æ–≤">Max Tokens</label>
                    <input type="number" class="form-input" value="4096">
                  </div>
                  <div class="form-group">
                    <label data-en="Iterations" data-ru="–ò—Ç–µ—Ä–∞—Ü–∏–∏">Iterations</label>
                    <input type="number" class="form-input" value="5" min="1" max="20">
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Smart Tools Selection -->
          <div class="panel">
            <div class="panel-header">
              <div>
                <h3 class="panel-title" data-en="Smart Tools Selection" data-ru="–£–º–Ω—ã–π –≤—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤">Smart Tools Selection</h3>
                <p class="panel-desc" data-en="AI automatically selects the most relevant capabilities for each request" data-ru="AI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞">AI automatically selects the most relevant capabilities for each request</p>
              </div>
              <label class="toggle-switch large">
                <input type="checkbox" checked>
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="smart-tools-info">
              <div class="smart-item">
                <span class="smart-label" data-en="Vector Index" data-ru="–í–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å">Vector Index</span>
                <span class="smart-value status-ok" data-en="Ready" data-ru="–ì–æ—Ç–æ–≤">Ready</span>
              </div>
              <div class="smart-item">
                <span class="smart-label" data-en="Top-K Results" data-ru="Top-K —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤">Top-K Results</span>
                <select class="form-select mini">
                  <option>25</option>
                  <option>50</option>
                  <option>100</option>
                </select>
              </div>
              <div class="smart-item">
                <span class="smart-label" data-en="Indexed Capabilities" data-ru="–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ">Indexed Capabilities</span>
                <span class="smart-value">127</span>
              </div>
              <div class="smart-item">
                <span class="smart-label" data-en="Last Update" data-ru="–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ">Last Update</span>
                <span class="smart-value">2m ago</span>
              </div>
            </div>
          </div>
          
          <!-- Telegram Integration -->
          <div class="panel">
            <div class="panel-header">
              <h3 class="panel-title" data-en="Telegram Integration" data-ru="–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram">Telegram Integration</h3>
              <span class="connection-badge connected">
                <span class="pulse-dot"></span>
                <span data-en="Connected" data-ru="–ü–æ–¥–∫–ª—é—á–µ–Ω–æ">Connected</span>
              </span>
            </div>
            <div class="telegram-config">
              <div class="config-row">
                <div class="form-group">
                  <label data-en="Direct Messages" data-ru="–õ–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è">Direct Messages</label>
                  <select class="form-select">
                    <option data-en="Open to all" data-ru="–û—Ç–∫—Ä—ã—Ç—ã –¥–ª—è –≤—Å–µ—Ö">Open to all</option>
                    <option data-en="Whitelist only" data-ru="–¢–æ–ª—å–∫–æ –∏–∑ –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞">Whitelist only</option>
                    <option data-en="Blacklist mode" data-ru="–†–µ–∂–∏–º —á—ë—Ä–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞">Blacklist mode</option>
                  </select>
                </div>
                <div class="form-group">
                  <label data-en="Group Chats" data-ru="–ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã">Group Chats</label>
                  <select class="form-select">
                    <option data-en="Allowlist only" data-ru="–¢–æ–ª—å–∫–æ –∏–∑ —Å–ø–∏—Å–∫–∞">Allowlist only</option>
                    <option data-en="Open" data-ru="–û—Ç–∫—Ä—ã—Ç—ã">Open</option>
                    <option data-en="Disabled" data-ru="–û—Ç–∫–ª—é—á–µ–Ω—ã">Disabled</option>
                  </select>
                </div>
              </div>
              <div class="toggle-grid">
                <label class="toggle-card">
                  <div class="toggle-info">
                    <span class="toggle-title" data-en="Require Mention" data-ru="–¢—Ä–µ–±–æ–≤–∞—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ">Require Mention</span>
                    <span class="toggle-desc" data-en="Only respond when mentioned in groups" data-ru="–û—Ç–≤–µ—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ –≤ –≥—Ä—É–ø–ø–∞—Ö">Only respond when mentioned in groups</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox" checked>
                  <span class="toggle-slider"></span>
                </label>
                <label class="toggle-card">
                  <div class="toggle-info">
                    <span class="toggle-title" data-en="Typing Indicator" data-ru="–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏">Typing Indicator</span>
                    <span class="toggle-desc" data-en="Show 'typing...' while processing" data-ru="–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å '–ø–µ—á–∞—Ç–∞–µ—Ç...' –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ">Show 'typing...' while processing</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox" checked>
                  <span class="toggle-slider"></span>
                </label>
                <label class="toggle-card">
                  <div class="toggle-info">
                    <span class="toggle-title" data-en="Auto-reply" data-ru="–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç">Auto-reply</span>
                    <span class="toggle-desc" data-en="Respond without manual trigger" data-ru="–û—Ç–≤–µ—á–∞—Ç—å –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞">Respond without manual trigger</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox">
                  <span class="toggle-slider"></span>
                </label>
              </div>
              <div class="form-group debounce-group">
                <label data-en="Response Delay (ms)" data-ru="–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞ (–º—Å)">Response Delay (ms)</label>
                <div class="slider-group">
                  <input type="range" class="form-slider" id="slider-response-delay" min="0" max="5000" step="100" value="1500" oninput="updateSliderDisplay(this)">
                  <span class="slider-value">1500ms</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Capabilities Page -->
      <div id="capabilities-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Capabilities" data-ru="–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">Capabilities</h1>
            <p class="page-subtitle" data-en="127 built-in tools across 16 capability groups" data-ru="127 –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ 16 –≥—Ä—É–ø–ø–∞—Ö">127 built-in tools across 16 capability groups</p>
          </div>
          <div class="search-box">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
            <input type="text" id="capabilities-search" placeholder="Search capabilities..." oninput="searchCapabilities(this.value)">
          </div>
        </div>
        <div class="page-content">
          <div class="capabilities-filters">
            <button class="filter-chip active" data-filter="all" onclick="filterCapabilities('all')">
              <span data-en="All" data-ru="–í—Å–µ">All</span>
              <span class="chip-count">16</span>
            </button>
            <button class="filter-chip" data-filter="active" onclick="filterCapabilities('active')">
              <span data-en="Active" data-ru="–ê–∫—Ç–∏–≤–Ω—ã–µ">Active</span>
              <span class="chip-count">14</span>
            </button>
            <button class="filter-chip" data-filter="inactive" onclick="filterCapabilities('inactive')">
              <span data-en="Inactive" data-ru="–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ">Inactive</span>
              <span class="chip-count">2</span>
            </button>
          </div>
          <div class="capabilities-list" id="capabilities-list"></div>
        </div>
      </div>
      
      <!-- Extensions Page -->
      <div id="extensions-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Extensions" data-ru="–†–∞—Å—à–∏—Ä–µ–Ω–∏—è">Extensions</h1>
            <p class="page-subtitle" data-en="Enhance your agent with community plugins" data-ru="–£–ª—É—á—à–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞">Enhance your agent with community plugins</p>
          </div>
          <div class="search-box">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
            </svg>
            <input type="text" id="extensions-search" placeholder="Search extensions..." oninput="searchExtensions(this.value)">
          </div>
        </div>
        <div class="page-content">
          <div class="extensions-tabs">
            <button class="tab-btn active" data-tab="installed" onclick="switchExtensionsTab('installed')">
              <span data-en="Installed" data-ru="–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ">Installed</span>
              <span class="tab-count" id="installed-count">2</span>
            </button>
            <button class="tab-btn" data-tab="marketplace" onclick="switchExtensionsTab('marketplace')">
              <span data-en="Marketplace" data-ru="–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å">Marketplace</span>
              <span class="tab-count new">12</span>
            </button>
            <button class="tab-btn" data-tab="updates" onclick="switchExtensionsTab('updates')">
              <span data-en="Updates" data-ru="–û–±–Ω–æ–≤–ª–µ–Ω–∏—è">Updates</span>
              <span class="tab-count alert">1</span>
            </button>
          </div>
          <div id="extensions-content"></div>
        </div>
      </div>
      
      <!-- Activity Stream Page -->
      <div id="activity-page" class="page">
        <div class="page-header">
          <div class="header-left">
            <h1 class="page-title" data-en="Activity Stream" data-ru="–ü–æ—Ç–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏">Activity Stream</h1>
            <div class="live-indicator">
              <span class="pulse-ring"></span>
              <span class="pulse-dot"></span>
              <span data-en="Live" data-ru="–í –ø—Ä—è–º–æ–º —ç—Ñ–∏—Ä–µ">Live</span>
            </div>
          </div>
          <div class="header-actions">
            <button class="btn btn-ghost" onclick="clearActivity()">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
              </svg>
              <span data-en="Clear" data-ru="–û—á–∏—Å—Ç–∏—Ç—å">Clear</span>
            </button>
            <div class="filter-dropdown">
              <button class="btn btn-ghost">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"/>
                </svg>
                <span data-en="Filter" data-ru="–§–∏–ª—å—Ç—Ä">Filter</span>
              </button>
            </div>
          </div>
        </div>
        <div class="page-content">
          <div class="activity-stream" id="activity-stream"></div>
        </div>
      </div>
      
      <!-- Operations Page -->
      <div id="operations-page" class="page">
        <div class="page-header">
          <div class="header-left">
            <h1 class="page-title" data-en="Operations" data-ru="–û–ø–µ—Ä–∞—Ü–∏–∏">Operations</h1>
            <div class="queue-indicator">
              <span data-en="Queue:" data-ru="–û—á–µ—Ä–µ–¥—å:">Queue:</span>
              <span class="queue-count">3</span>
            </div>
          </div>
          <button class="btn btn-primary">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            <span data-en="New Operation" data-ru="–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è">New Operation</span>
          </button>
        </div>
        <div class="page-content">
          <div class="operations-filters">
            <button class="op-filter active" data-status="all" onclick="filterOperations('all')">
              <span data-en="All" data-ru="–í—Å–µ">All</span>
              <span class="filter-badge">5</span>
            </button>
            <button class="op-filter" data-status="queued" onclick="filterOperations('queued')">
              <span data-en="Queued" data-ru="–í –æ—á–µ—Ä–µ–¥–∏">Queued</span>
              <span class="filter-badge">1</span>
            </button>
            <button class="op-filter" data-status="running" onclick="filterOperations('running')">
              <span data-en="Running" data-ru="–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è">Running</span>
              <span class="filter-badge">1</span>
            </button>
            <button class="op-filter" data-status="completed" onclick="filterOperations('completed')">
              <span data-en="Completed" data-ru="–ó–∞–≤–µ—Ä—à–µ–Ω–æ">Completed</span>
              <span class="filter-badge">2</span>
            </button>
            <button class="op-filter" data-status="failed" onclick="filterOperations('failed')">
              <span data-en="Failed" data-ru="–û—à–∏–±–∫–∞">Failed</span>
              <span class="filter-badge">1</span>
            </button>
          </div>
          <div class="operations-list" id="operations-list"></div>
        </div>
      </div>
      
      <!-- Settings Page -->
      <div id="settings-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Settings" data-ru="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">Settings</h1>
            <p class="page-subtitle" data-en="Configure your agent and platform preferences" data-ru="–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≥–µ–Ω—Ç–∞ –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã">Configure your agent and platform preferences</p>
          </div>
          <button class="btn btn-primary" onclick="saveSettings()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
              <polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
            </svg>
            <span data-en="Save Changes" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save Changes</span>
          </button>
        </div>
        <div class="page-content">
          <div class="settings-grid">
            <div class="settings-section">
              <h3 class="section-title" data-en="API Credentials" data-ru="API –ö–ª—é—á–∏">API Credentials</h3>
              <div class="settings-card">
                <div class="credential-item">
                  <div class="credential-info">
                    <span class="credential-name">Anthropic API</span>
                    <span class="credential-status active" data-en="Active" data-ru="–ê–∫—Ç–∏–≤–µ–Ω">Active</span>
                  </div>
                  <div class="input-group">
                    <input type="password" class="form-input" value="sk-ant-api03-xxxxxxxx" readonly>
                    <button class="btn btn-ghost btn-sm" onclick="togglePassword(this)">Show</button>
                    <button class="btn btn-ghost btn-sm">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                      </svg>
                    </button>
                  </div>
                </div>
                <div class="credential-item">
                  <div class="credential-info">
                    <span class="credential-name">Telegram Bot Token</span>
                    <span class="credential-status active" data-en="Active" data-ru="–ê–∫—Ç–∏–≤–µ–Ω">Active</span>
                  </div>
                  <div class="input-group">
                    <input type="password" class="form-input" value="7xxxxxxxx:xxxxxxxx" readonly>
                    <button class="btn btn-ghost btn-sm" onclick="togglePassword(this)">Show</button>
                    <button class="btn btn-ghost btn-sm">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="settings-section">
              <h3 class="section-title" data-en="Security" data-ru="–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å">Security</h3>
              <div class="settings-card">
                <label class="setting-item">
                  <div class="setting-info">
                    <span class="setting-name" data-en="Audit Logging" data-ru="–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ">Audit Logging</span>
                    <span class="setting-desc" data-en="Record all agent actions for review" data-ru="–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–≥–µ–Ω—Ç–∞">Record all agent actions for review</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox" checked>
                  <span class="toggle-slider"></span>
                </label>
                <label class="setting-item">
                  <div class="setting-info">
                    <span class="setting-name" data-en="Confirm Sensitive Actions" data-ru="–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è">Confirm Sensitive Actions</span>
                    <span class="setting-desc" data-en="Ask before executing critical operations" data-ru="–°–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–µ—Ä–µ–¥ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏">Ask before executing critical operations</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox" checked>
                  <span class="toggle-slider"></span>
                </label>
                <label class="setting-item">
                  <div class="setting-info">
                    <span class="setting-name" data-en="Rate Limiting" data-ru="–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤">Rate Limiting</span>
                    <span class="setting-desc" data-en="Limit requests per minute" data-ru="–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –º–∏–Ω—É—Ç—É">Limit requests per minute</span>
                  </div>
                  <input type="checkbox" class="toggle-checkbox" checked>
                  <span class="toggle-slider"></span>
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Analytics Page -->
      <div id="analytics-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Analytics" data-ru="–ê–Ω–∞–ª–∏—Ç–∏–∫–∞">Analytics</h1>
            <p class="page-subtitle" data-en="Execution statistics and agent performance" data-ru="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–æ–≤">Execution statistics and agent performance</p>
          </div>
          <button class="btn btn-ghost" onclick="loadAnalytics()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="refresh-icon">
              <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
            <span data-en="Refresh" data-ru="–û–±–Ω–æ–≤–∏—Ç—å">Refresh</span>
          </button>
        </div>
        <div class="page-content">
          <div class="metrics-grid" id="analytics-stats-grid">
            <div class="metric-card primary">
              <div class="metric-glow"></div>
              <div class="metric-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>
              <div class="metric-content">
                <span class="metric-label" data-en="Total Runs" data-ru="–í—Å–µ–≥–æ –∑–∞–ø—É—Å–∫–æ–≤">Total Runs</span>
                <span class="metric-value" id="an-total-runs">‚Äî</span>
              </div>
            </div>
            <div class="metric-card accent">
              <div class="metric-glow"></div>
              <div class="metric-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
              <div class="metric-content">
                <span class="metric-label" data-en="Success Rate" data-ru="–£—Å–ø–µ—à–Ω–æ—Å—Ç—å">Success Rate</span>
                <span class="metric-value" id="an-success-rate">‚Äî</span>
              </div>
            </div>
            <div class="metric-card secondary">
              <div class="metric-glow"></div>
              <div class="metric-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg></div>
              <div class="metric-content">
                <span class="metric-label" data-en="Last 24h" data-ru="–ó–∞ 24—á">Last 24h</span>
                <span class="metric-value" id="an-last24h">‚Äî</span>
              </div>
            </div>
            <div class="metric-card success">
              <div class="metric-glow"></div>
              <div class="metric-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
              <div class="metric-content">
                <span class="metric-label" data-en="Active Agents" data-ru="–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤">Active Agents</span>
                <span class="metric-value" id="an-active-agents">‚Äî</span>
              </div>
            </div>
          </div>

          <div class="panel" style="margin-top:1.5rem">
            <div class="panel-header">
              <h3 class="panel-title" data-en="Execution History" data-ru="–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">Execution History</h3>
            </div>
            <div id="analytics-executions-table">
              <div class="loading-placeholder" data-en="Loading..." data-ru="–ó–∞–≥—Ä—É–∑–∫–∞...">Loading...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Persona Page -->
      <div id="persona-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Persona" data-ru="–ü–µ—Ä—Å–æ–Ω–∞">Persona</h1>
            <p class="page-subtitle" data-en="AI personality and language settings for your agents" data-ru="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI-–ø–µ—Ä—Å–æ–Ω—ã –∏ —è–∑—ã–∫–∞ –¥–ª—è –≤–∞—à–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤">AI personality and language settings for your agents</p>
          </div>
          <button class="btn btn-primary" onclick="savePersona()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
              <polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/>
            </svg>
            <span data-en="Save Persona" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save Persona</span>
          </button>
        </div>
        <div class="page-content">
          <div class="settings-grid">
            <div class="settings-section">
              <h3 class="section-title" data-en="AI Model" data-ru="AI –ú–æ–¥–µ–ª—å">AI Model</h3>
              <div class="settings-card">
                <div class="setting-item" style="display:flex;flex-direction:column;gap:.75rem;padding:1rem 0">
                  <label style="display:flex;flex-direction:column;gap:.4rem">
                    <span class="setting-name" data-en="Model" data-ru="–ú–æ–¥–µ–ª—å">Model</span>
                    <select class="form-input" id="persona-model">
                      <option value="gemini-2.5-flash">Gemini 2.5 Flash (default)</option>
                      <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                      <option value="gpt-4o">GPT-4o</option>
                      <option value="gpt-4o-mini">GPT-4o Mini</option>
                      <option value="claude-3-5-sonnet">Claude 3.5 Sonnet</option>
                    </select>
                  </label>
                  <label style="display:flex;flex-direction:column;gap:.4rem">
                    <span class="setting-name" data-en="Response Language" data-ru="–Ø–∑—ã–∫ –æ—Ç–≤–µ—Ç–æ–≤">Response Language</span>
                    <select class="form-input" id="persona-language">
                      <option value="auto">Auto-detect</option>
                      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                      <option value="en">English</option>
                    </select>
                  </label>
                  <label style="display:flex;flex-direction:column;gap:.4rem">
                    <span class="setting-name" data-en="Tone" data-ru="–¢–æ–Ω">Tone</span>
                    <select class="form-input" id="persona-tone">
                      <option value="professional">Professional</option>
                      <option value="friendly">Friendly</option>
                      <option value="technical">Technical</option>
                      <option value="concise">Concise</option>
                    </select>
                  </label>
                  <label style="display:flex;flex-direction:column;gap:.4rem">
                    <span class="setting-name" data-en="Persona Name" data-ru="–ò–º—è –ø–µ—Ä—Å–æ–Ω—ã">Persona Name</span>
                    <input type="text" class="form-input" id="persona-name" placeholder="e.g. TradeBot, DeFi Watcher...">
                  </label>
                </div>
              </div>
            </div>
            <div class="settings-section">
              <h3 class="section-title" data-en="Custom Instructions" data-ru="–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI">Custom Instructions</h3>
              <div class="settings-card">
                <div class="setting-item" style="padding:1rem 0">
                  <span class="setting-desc" data-en="These instructions are prepended to every agent creation prompt." data-ru="–≠—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥–µ–Ω—Ç–∞.">These instructions are prepended to every agent creation prompt.</span>
                  <textarea class="form-input" id="persona-instructions" rows="6" style="margin-top:.75rem;width:100%;resize:vertical" placeholder="e.g. Always use USDT prices. Notify in Russian."></textarea>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Knowledge Base Page -->
      <div id="knowledge-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Knowledge Base" data-ru="–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π">Knowledge Base</h1>
            <p class="page-subtitle" data-en="Documents injected into AI context when creating agents" data-ru="–î–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤">Documents injected into AI context when creating agents</p>
          </div>
          <button class="btn btn-primary" onclick="showAddKnowledge()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
            <span data-en="Add Entry" data-ru="–î–æ–±–∞–≤–∏—Ç—å">Add Entry</span>
          </button>
        </div>
        <div class="page-content">
          <!-- Add form (hidden by default) -->
          <div id="knowledge-add-form" class="panel" style="display:none;margin-bottom:1.5rem">
            <div class="panel-header">
              <h3 class="panel-title" data-en="New Entry" data-ru="–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å">New Entry</h3>
            </div>
            <div style="padding:1rem;display:flex;flex-direction:column;gap:.75rem">
              <input type="text" class="form-input" id="kb-title" placeholder="Title (e.g. My Exchange API)">
              <textarea class="form-input" id="kb-content" rows="5" style="resize:vertical" placeholder="Content (e.g. API endpoint: https://..., key: xxx)"></textarea>
              <div style="display:flex;gap:.75rem">
                <button class="btn btn-primary" onclick="saveKnowledgeEntry()">
                  <span data-en="Save" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save</span>
                </button>
                <button class="btn btn-ghost" onclick="document.getElementById('knowledge-add-form').style.display='none'">
                  <span data-en="Cancel" data-ru="–û—Ç–º–µ–Ω–∞">Cancel</span>
                </button>
              </div>
            </div>
          </div>

          <div id="knowledge-list" class="panel">
            <div class="panel-header">
              <h3 class="panel-title" data-en="Entries" data-ru="–ó–∞–ø–∏—Å–∏">Entries</h3>
            </div>
            <div id="knowledge-entries">
              <div class="loading-placeholder" data-en="Loading..." data-ru="–ó–∞–≥—Ä—É–∑–∫–∞...">Loading...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Connectors Page -->
      <div id="connectors-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Connectors" data-ru="–ö–æ–Ω–Ω–µ–∫—Ç–æ—Ä—ã">Connectors</h1>
            <p class="page-subtitle" data-en="External service integrations and personal variables" data-ru="–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ">External service integrations and personal variables</p>
          </div>
        </div>
        <div class="page-content">
          <!-- Connector cards -->
          <div class="settings-grid" id="connectors-grid">
            <!-- Discord -->
            <div class="settings-section">
              <h3 class="section-title">Discord Webhook</h3>
              <div class="settings-card">
                <div style="padding:1rem;display:flex;flex-direction:column;gap:.75rem">
                  <div style="display:flex;align-items:center;gap:.5rem">
                    <span class="credential-status" id="discord-status">Disconnected</span>
                  </div>
                  <input type="url" class="form-input" id="discord-webhook" placeholder="https://discord.com/api/webhooks/...">
                  <div style="display:flex;gap:.5rem">
                    <button class="btn btn-primary btn-sm" onclick="saveConnector('discord', {webhookUrl: document.getElementById('discord-webhook').value})">
                      <span data-en="Save" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save</span>
                    </button>
                    <button class="btn btn-ghost btn-sm" onclick="testConnector('discord')">
                      <span data-en="Test" data-ru="–¢–µ—Å—Ç">Test</span>
                    </button>
                    <button class="btn btn-ghost btn-sm" onclick="removeConnector('discord')">
                      <span data-en="Remove" data-ru="–£–¥–∞–ª–∏—Ç—å">Remove</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Slack -->
            <div class="settings-section">
              <h3 class="section-title">Slack Webhook</h3>
              <div class="settings-card">
                <div style="padding:1rem;display:flex;flex-direction:column;gap:.75rem">
                  <div style="display:flex;align-items:center;gap:.5rem">
                    <span class="credential-status" id="slack-status">Disconnected</span>
                  </div>
                  <input type="url" class="form-input" id="slack-webhook" placeholder="https://hooks.slack.com/services/...">
                  <div style="display:flex;gap:.5rem">
                    <button class="btn btn-primary btn-sm" onclick="saveConnector('slack', {webhookUrl: document.getElementById('slack-webhook').value})">
                      <span data-en="Save" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save</span>
                    </button>
                    <button class="btn btn-ghost btn-sm" onclick="removeConnector('slack')">
                      <span data-en="Remove" data-ru="–£–¥–∞–ª–∏—Ç—å">Remove</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Custom Webhook -->
            <div class="settings-section">
              <h3 class="section-title" data-en="Custom Webhook" data-ru="–°–≤–æ–π Webhook">Custom Webhook</h3>
              <div class="settings-card">
                <div style="padding:1rem;display:flex;flex-direction:column;gap:.75rem">
                  <span class="credential-status" id="custom-webhook-status">Disconnected</span>
                  <input type="url" class="form-input" id="custom-webhook-url" placeholder="https://your-server.com/webhook">
                  <div style="display:flex;gap:.5rem">
                    <button class="btn btn-primary btn-sm" onclick="saveConnector('custom_webhook', {url: document.getElementById('custom-webhook-url').value})">
                      <span data-en="Save" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save</span>
                    </button>
                    <button class="btn btn-ghost btn-sm" onclick="removeConnector('custom_webhook')">
                      <span data-en="Remove" data-ru="–£–¥–∞–ª–∏—Ç—å">Remove</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- My Variables -->
          <div class="panel" style="margin-top:2rem">
            <div class="panel-header">
              <h3 class="panel-title" data-en="My Variables" data-ru="–ú–æ–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ">My Variables</h3>
              <button class="btn btn-primary btn-sm" onclick="showAddVariable()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                <span data-en="Add Variable" data-ru="–î–æ–±–∞–≤–∏—Ç—å">Add Variable</span>
              </button>
            </div>
            <div style="padding:.5rem 1rem 1rem;font-size:.85rem;color:var(--text-muted)" data-en="Variables auto-injected into all agents as context.config.VAR_NAME" data-ru="–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –∞–≥–µ–Ω—Ç–∞—Ö –∫–∞–∫ context.config.VAR_NAME">Variables auto-injected into all agents as context.config.VAR_NAME</div>
            <div id="add-variable-form" style="display:none;padding:0 1rem 1rem;display:none;gap:.5rem;flex-wrap:wrap">
              <input type="text" class="form-input" id="var-key" placeholder="VAR_NAME" style="flex:1;min-width:140px;text-transform:uppercase">
              <input type="text" class="form-input" id="var-value" placeholder="value" style="flex:2;min-width:200px">
              <button class="btn btn-primary btn-sm" onclick="saveVariable()">
                <span data-en="Save" data-ru="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å">Save</span>
              </button>
              <button class="btn btn-ghost btn-sm" onclick="document.getElementById('add-variable-form').style.display='none'">‚úï</button>
            </div>
            <div id="variables-list" style="padding:0 1rem 1rem">
              <div class="loading-placeholder" data-en="Loading..." data-ru="–ó–∞–≥—Ä—É–∑–∫–∞...">Loading...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profile Page -->
      <div id="profile-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Profile" data-ru="–ü—Ä–æ—Ñ–∏–ª—å">Profile</h1>
            <p class="page-subtitle" data-en="Your account information and statistics" data-ru="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">Your account information and statistics</p>
          </div>
        </div>
        <div class="page-content">
          <div class="settings-grid">
            <div class="settings-section">
              <h3 class="section-title" data-en="Account" data-ru="–ê–∫–∫–∞—É–Ω—Ç">Account</h3>
              <div class="settings-card">
                <div style="padding:1rem;display:flex;align-items:center;gap:1rem;margin-bottom:1rem">
                  <div style="width:64px;height:64px;border-radius:50%;overflow:hidden;background:var(--bg-tertiary);display:flex;align-items:center;justify-content:center;flex-shrink:0">
                    <img id="profile-avatar" src="" alt="" style="width:100%;height:100%;object-fit:cover;display:none">
                    <svg id="profile-avatar-fallback" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                  </div>
                  <div>
                    <div style="font-weight:600;font-size:1.1rem" id="profile-name">‚Äî</div>
                    <div style="color:var(--text-muted);font-size:.9rem" id="profile-username">‚Äî</div>
                    <div style="color:var(--text-muted);font-size:.8rem;margin-top:.2rem">ID: <span id="profile-id">‚Äî</span></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="settings-section">
              <h3 class="section-title" data-en="Statistics" data-ru="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">Statistics</h3>
              <div class="settings-card">
                <div style="padding:1rem;display:flex;flex-direction:column;gap:.75rem">
                  <div style="display:flex;justify-content:space-between">
                    <span class="setting-name" data-en="Total Agents" data-ru="–í—Å–µ–≥–æ –∞–≥–µ–Ω—Ç–æ–≤">Total Agents</span>
                    <span id="profile-total-agents" style="font-weight:600">‚Äî</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="setting-name" data-en="Active Agents" data-ru="–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤">Active Agents</span>
                    <span id="profile-active-agents" style="font-weight:600">‚Äî</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="setting-name" data-en="Total Runs" data-ru="–í—Å–µ–≥–æ –∑–∞–ø—É—Å–∫–æ–≤">Total Runs</span>
                    <span id="profile-total-runs" style="font-weight:600">‚Äî</span>
                  </div>
                  <div style="display:flex;justify-content:space-between">
                    <span class="setting-name" data-en="Success Rate" data-ru="–£—Å–ø–µ—à–Ω–æ—Å—Ç—å">Success Rate</span>
                    <span id="profile-success-rate" style="font-weight:600">‚Äî</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel" style="margin-top:1.5rem;border:1px solid rgba(220,53,69,.3)">
            <div class="panel-header">
              <h3 class="panel-title" style="color:#dc3545" data-en="Danger Zone" data-ru="–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞">Danger Zone</h3>
            </div>
            <div style="padding:1rem;color:var(--text-muted);font-size:.9rem">
              <span data-en="To manage or delete all agents, open the bot: " data-ru="–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞: ">To manage or delete all agents, open the bot: </span>
              <a href="https://t.me/TonAgentPlatformBot" target="_blank" style="color:var(--primary)">@TonAgentPlatformBot</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Balance Page -->
      <div id="balance-page" class="page">
        <div class="page-header">
          <div>
            <h1 class="page-title" data-en="Balance" data-ru="–ë–∞–ª–∞–Ω—Å">Balance</h1>
            <p class="page-subtitle" data-en="Your internal platform balance and deposit history" data-ru="–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±–∞–ª–∞–Ω—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π">Your internal platform balance and deposit history</p>
          </div>
          <button class="btn btn-ghost" onclick="loadBalance()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="refresh-icon">
              <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
            <span data-en="Refresh" data-ru="–û–±–Ω–æ–≤–∏—Ç—å">Refresh</span>
          </button>
        </div>
        <div class="page-content">

          <!-- Balance Cards -->
          <div class="balance-cards-grid">
            <!-- Main Balance Card -->
            <div class="balance-main-card">
              <div class="balance-card-glow"></div>
              <div class="balance-card-header">
                <div class="balance-card-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M12 6v6l4 2"/>
                  </svg>
                </div>
                <div>
                  <span class="balance-card-label" data-en="Available Balance" data-ru="–î–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å">Available Balance</span>
                  <div class="balance-card-amount" id="balance-amount">
                    <span class="balance-ton-value" id="balance-ton-value">0.0000</span>
                    <span class="balance-ton-symbol">TON</span>
                  </div>
                  <div class="balance-usd-equiv" id="balance-usd-equiv">‚âà $0.00</div>
                </div>
              </div>
              <div class="balance-card-stats">
                <div class="balance-stat">
                  <span class="balance-stat-label" data-en="Total Deposited" data-ru="–í—Å–µ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–æ">Total Deposited</span>
                  <span class="balance-stat-value" id="balance-total-deposited">0.0000 TON</span>
                </div>
                <div class="balance-stat">
                  <span class="balance-stat-label" data-en="Total Spent" data-ru="–í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ">Total Spent</span>
                  <span class="balance-stat-value" id="balance-total-spent">0.0000 TON</span>
                </div>
              </div>
            </div>

            <!-- Deposit Card -->
            <div class="deposit-card">
              <div class="deposit-card-header">
                <h3 data-en="Deposit TON" data-ru="–ü–æ–ø–æ–ª–Ω–∏—Ç—å TON">Deposit TON</h3>
                <span class="deposit-badge" data-en="Instant" data-ru="–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ">Instant</span>
              </div>

              <!-- TON Connect Button -->
              <div class="tonconnect-section">
                <div id="ton-connect-button-container"></div>
                <p class="tonconnect-desc" data-en="Connect your TON wallet to deposit directly" data-ru="–ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON –∫–æ—à–µ–ª—ë–∫ –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è">Connect your TON wallet to deposit directly</p>
              </div>

              <div class="deposit-divider">
                <span data-en="or send manually" data-ru="–∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é">or send manually</span>
              </div>

              <!-- Manual Deposit Address -->
              <div class="deposit-address-section">
                <label class="deposit-address-label" data-en="Platform Address" data-ru="–ê–¥—Ä–µ—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã">Platform Address</label>
                <div class="deposit-address-box">
                  <div class="deposit-address-dns">agentplatform.ton</div>
                  <div class="deposit-address-raw" id="deposit-address-raw">UQCfRrLVr7MeGbVw4x1XgZ42ZUS7tdf2sEYSyRvmoEB4y_dh</div>
                  <button class="btn btn-ghost btn-sm deposit-copy-btn" onclick="copyDepositAddress()">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                    <span data-en="Copy" data-ru="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">Copy</span>
                  </button>
                </div>
                <p class="deposit-note" data-en="Send any amount of TON to this address. Balance updates automatically." data-ru="–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ TON –Ω–∞ —ç—Ç–æ—Ç –∞–¥—Ä–µ—Å. –ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.">Send any amount of TON to this address. Balance updates automatically.</p>
              </div>

              <!-- Quick Deposit via TON Connect -->
              <div class="quick-deposit-section" id="quick-deposit-section" style="display:none">
                <label class="deposit-address-label" data-en="Quick Deposit Amount" data-ru="–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ">Quick Deposit Amount</label>
                <div class="quick-deposit-amounts">
                  <button class="quick-amount-btn" onclick="quickDeposit(1)">1 TON</button>
                  <button class="quick-amount-btn" onclick="quickDeposit(5)">5 TON</button>
                  <button class="quick-amount-btn" onclick="quickDeposit(10)">10 TON</button>
                  <button class="quick-amount-btn" onclick="quickDeposit(50)">50 TON</button>
                </div>
                <div class="custom-deposit-row">
                  <input type="number" class="form-input" id="custom-deposit-amount" placeholder="Custom amount (TON)" min="0.1" step="0.1">
                  <button class="btn btn-primary" onclick="quickDepositCustom()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
                    </svg>
                    <span data-en="Deposit" data-ru="–ü–æ–ø–æ–ª–Ω–∏—Ç—å">Deposit</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Transaction History -->
          <div class="panel" style="margin-top:1.5rem">
            <div class="panel-header">
              <h3 class="panel-title" data-en="Transaction History" data-ru="–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π">Transaction History</h3>
              <button class="btn btn-ghost btn-sm" onclick="loadBalanceTransactions()">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
                  <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                </svg>
              </button>
            </div>
            <div id="balance-transactions-list">
              <div class="loading-placeholder" data-en="Loading transactions..." data-ru="–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π...">Loading transactions...</div>
            </div>
          </div>

        </div>
      </div>

    </main>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
